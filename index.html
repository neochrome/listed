<!doctype html>
<html manifest="cache.manifest" ng-app="Main">
	<head>
		<meta charset="utf-8">
		<title>Listed</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width"/>
		<link href="styles/main.css" rel="stylesheet"/>
		<script src="angular-1.0.0.min.js"></script>
		<script src="app.js"></script>
	</head>
	<body ng-controller="ItemsController">
	
		<header>
			<nav ng-hide="editing">
				<a class="lt icon-pencil" ng-click="editStart()"></a>
				<a class="lt icon-check" ng-click="toggleChecked()" ng-show="checkedItems.length"></a>
				<a class="lt icon-trash" ng-click="removeChecked()" ng-show="checkedItems.length")></a>
			</nav>
			<nav ng-show="editing">
				<a class="lt icon-ok" ng-click="editSave()"></a>
				<a class="lt icon-remove" ng-click="editCancel()"></a>
			</nav>
			<h2>{{checkedItems.length}} / {{items.length}}</h2>
		</header>

		<ul id="items">
			<li>
				<form name="newItem" ng-submit="add()">
					<input type="text" placeholder="new item" required ng-model="newItemText"/>
				</form>
			</li>
			<li ng-repeat="item in items">
				<label class="{{item.checked&&'checked'}}" ng-hide="editing">
					<input type="checkbox" ng-model="item.checked" ng-click="toggle()"/>
					<i class="icon-check{{item.checked&&' '||'-empty'}}"></i>
					{{item.text}}
					<a class="rt icon-trash" ng-click="remove(item)" ng-show="item.checked"></a>
				</label>
				<div ng-show="editing">
					<input type="text" ng-model="item.text" ng-model-instant ng-show="editing"/>
					<a class="rt icon-trash" ng-click="remove(item)" ng-show="item.checked"></a>
				</div>
			</li>
		</ul>

	</body>
</html>
